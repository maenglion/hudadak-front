<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, viewport-fit=cover, user-scalable=no" />
  <title>HUDADAK</title>
  <meta name="color-scheme" content="light dark" />
  <meta name="theme-color" content="#f4f6f8" />
  <link rel="stylesheet" href="/styles.css" />
</head>
<body>
  <div class="app-container">
    <!-- SLIDE-IN SETTINGS PANEL -->
    <aside id="settings-panel">
      <iframe src="/setup/index.html" frameborder="0"></iframe>
    </aside>
    <div id="settings-backdrop"></div>

    <!-- HEADER -->
    <header class="topbar">
      <button id="settings-btn" class="icon-btn" aria-label="설정 열기">☰</button>
      <h1 class="app-title" style="margin-left:8px;">HUDADAK</h1>
      <a class="icon-btn right" href="/setup/index.html" title="설정">⚙️</a>
    </header>

    <main>
      <!-- 종합 요약(HERO) -->
      <section class="hero" style="margin:8px;">
        <div class="hero-meta">
          <div id="station-name" class="hero-loc">—</div>
          <div id="display-ts" class="hero-time">—</div>
        </div>
        <div class="hero-score">
          <!-- 등급/간단 설명은 app.js에서 계산해 넣을 수 있음. -->
          <div id="hero-grade" class="grade">—</div>
          <div id="hero-desc" class="desc">—</div>
        </div>
      </section>
      <!-- 5일 예보 -->
<section class="card" style="margin:8px;">
  <h4>예보</h4>
  <div id="forecast-grid" class="forecast-grid">
    <!-- 데이터 없을 땐 샘플 1장 표시 -->
    <div class="forecast-card">
      <p class="forecast-day">금요일</p>
      <div class="forecast-icon">☀️</div>
      <p class="forecast-temp">22° / <strong>28°</strong></p>
      <p class="forecast-desc">맑음</p>
    </div>
  </div>
  <small id="forecast-note" class="muted" style="margin-left:8px"></small>
</section>


      <!-- 상세 지표 카드 -->
      <section class="card" style="margin:8px;">
        <h4>주요 지표</h4>

        <div class="gauge-display" style="display:grid; grid-template-columns:1fr 1fr; gap:16px;">
          <!-- PM10 -->
          <div class="semi-circle-gauge">
            <div class="gauge-header"><h4>미세먼지 (PM10)</h4></div>
            <div class="gauge-arc" id="pm10-arc">
              <div class="gauge-content">
                <span class="gauge-grade" id="pm10-grade">--</span>
                <span class="gauge-value" id="pm10-value">--</span>
              </div>
            </div>
          </div>
          <!-- PM2.5 -->
          <div class="semi-circle-gauge">
            <div class="gauge-header"><h4>초미세먼지 (PM2.5)</h4></div>
            <div class="gauge-arc" id="pm25-arc">
              <div class="gauge-content">
                <span class="gauge-grade" id="pm25-grade">--</span>
                <span class="gauge-value" id="pm25-value">--</span>
              </div>
            </div>
          </div>
        </div>

        <div class="standard-display" style="margin-top:8px;">
          <span id="current-standard-label" class="muted">기준: —</span>
        </div>

        <div class="linear-bars" id="linear-bars-container" style="margin-top:8px;">
          <!-- O3/NO2/SO2/CO 막대는 필요 시 JS에서 렌더 -->
        </div>
      </section>
    </main>

    <!-- 하단 검색 바 -->
    <footer class="bottom-bar" style="display:flex; gap:8px; padding:12px; position:sticky; bottom:0; background:var(--bg);">
      <input type="search" id="place" class="search" placeholder="지역 검색 (예: 강남역) 또는 '37.57,126.98'" />
      <button id="searchBtn" class="icon-btn" aria-label="검색">🔎</button>
      <button id="btn-current" class="icon-btn" aria-label="현 위치">📍</button>
    </footer>
  </div>

  <!-- 앱 엔트리 (캐시 우회 버전) -->
  <script type="module" src="/app.js?v=20251017a"></script>
</body>
</html>
